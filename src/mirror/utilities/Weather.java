package mirror.utilities;

import tk.plogitech.darksky.forecast.*;
import tk.plogitech.darksky.forecast.model.Latitude;
import tk.plogitech.darksky.forecast.model.Longitude;

import static java.lang.Math.ceil;
import static java.lang.Math.floor;

public class Weather {

    public static void getWeather() {
        String forecast;
        //Forecast forecast;
        ForecastRequest request = new ForecastRequestBuilder()
                .key(new APIKey(
                        "8f69775f145565c4293441b94e1e7530"))
                .units(ForecastRequestBuilder.Units.us)
                .language(ForecastRequestBuilder.Language.en)
                .location(new GeoCoordinates(new Longitude(-80.6081), new Latitude(28.0836))).build();
        //melbourne: -80.6081 28.0836
        // GT: 33.775806, -84.394361
        // LG: new Longitude(-85.044093), new Latitude(33.090348))
        DarkSkyClient client = new DarkSkyClient();
        try {
            forecast = client.forecastJsonString(request);
            //forecast = client.forecast(request);
        } catch(Exception e) {
            forecast = "";
        }

        //forecast;

        //break up forecast into several parts like current temp, hi, lo, and current weather

        parser(forecast);

    }

    private static void parser(String string) {
       // string =  {"latitude":33.090348,"longitude":-85.044093,"timezone":"America/New_York","currently":{"time":1548434855,"summary":"Heiter","icon":"clear-day","nearestStormDistance":468,"nearestStormBearing":24,"precipIntensity":0,"precipProbability":0,"temperature":6.21,"apparentTemperature":4.35,"dewPoint":-2.44,"humidity":0.54,"pressure":1025.93,"windSpeed":2.47,"windGust":5.25,"windBearing":336,"cloudCover":0.03,"uvIndex":4,"visibility":11.17,"ozone":288.85},"minutely":{"summary":"In der kommenden Stunde heiter.","icon":"clear-day","data":[{"time":1548434820,"precipIntensity":0,"precipProbability":0},{"time":1548434880,"precipIntensity":0,"precipProbability":0},{"time":1548434940,"precipIntensity":0,"precipProbability":0},{"time":1548435000,"precipIntensity":0,"precipProbability":0},{"time":1548435060,"precipIntensity":0,"precipProbability":0},{"time":1548435120,"precipIntensity":0,"precipProbability":0},{"time":1548435180,"precipIntensity":0,"precipProbability":0},{"time":1548435240,"precipIntensity":0,"precipProbability":0},{"time":1548435300,"precipIntensity":0,"precipProbability":0},{"time":1548435360,"precipIntensity":0,"precipProbability":0},{"time":1548435420,"precipIntensity":0,"precipProbability":0},{"time":1548435480,"precipIntensity":0,"precipProbability":0},{"time":1548435540,"precipIntensity":0,"precipProbability":0},{"time":1548435600,"precipIntensity":0,"precipProbability":0},{"time":1548435660,"precipIntensity":0,"precipProbability":0},{"time":1548435720,"precipIntensity":0,"precipProbability":0},{"time":1548435780,"precipIntensity":0,"precipProbability":0},{"time":1548435840,"precipIntensity":0,"precipProbability":0},{"time":1548435900,"precipIntensity":0,"precipProbability":0},{"time":1548435960,"precipIntensity":0,"precipProbability":0},{"time":1548436020,"precipIntensity":0,"precipProbability":0},{"time":1548436080,"precipIntensity":0,"precipProbability":0},{"time":1548436140,"precipIntensity":0,"precipProbability":0},{"time":1548436200,"precipIntensity":0,"precipProbability":0},{"time":1548436260,"precipIntensity":0,"precipProbability":0},{"time":1548436320,"precipIntensity":0,"precipProbability":0},{"time":1548436380,"precipIntensity":0,"precipProbability":0},{"time":1548436440,"precipIntensity":0,"precipProbability":0},{"time":1548436500,"precipIntensity":0,"precipProbability":0},{"time":1548436560,"precipIntensity":0,"precipProbability":0},{"time":1548436620,"precipIntensity":0,"precipProbability":0},{"time":1548436680,"precipIntensity":0,"precipProbability":0},{"time":1548436740,"precipIntensity":0,"precipProbability":0},{"time":1548436800,"precipIntensity":0,"precipProbability":0},{"time":1548436860,"precipIntensity":0,"precipProbability":0},{"time":1548436920,"precipIntensity":0,"precipProbability":0},{"time":1548436980,"precipIntensity":0,"precipProbability":0},{"time":1548437040,"precipIntensity":0,"precipProbability":0},{"time":1548437100,"precipIntensity":0,"precipProbability":0},{"time":1548437160,"precipIntensity":0,"precipProbability":0},{"time":1548437220,"precipIntensity":0,"precipProbability":0},{"time":1548437280,"precipIntensity":0,"precipProbability":0},{"time":1548437340,"precipIntensity":0,"precipProbability":0},{"time":1548437400,"precipIntensity":0,"precipProbability":0},{"time":1548437460,"precipIntensity":0,"precipProbability":0},{"time":1548437520,"precipIntensity":0,"precipProbability":0},{"time":1548437580,"precipIntensity":0,"precipProbability":0},{"time":1548437640,"precipIntensity":0,"precipProbability":0},{"time":1548437700,"precipIntensity":0,"precipProbability":0},{"time":1548437760,"precipIntensity":0,"precipProbability":0},{"time":1548437820,"precipIntensity":0,"precipProbability":0},{"time":1548437880,"precipIntensity":0,"precipProbability":0},{"time":1548437940,"precipIntensity":0,"precipProbability":0},{"time":1548438000,"precipIntensity":0,"precipProbability":0},{"time":1548438060,"precipIntensity":0,"precipProbability":0},{"time":1548438120,"precipIntensity":0,"precipProbability":0},{"time":1548438180,"precipIntensity":0,"precipProbability":0},{"time":1548438240,"precipIntensity":0,"precipProbability":0},{"time":1548438300,"precipIntensity":0,"precipProbability":0},{"time":1548438360,"precipIntensity":0,"precipProbability":0},{"time":1548438420,"precipIntensity":0,"precipProbability":0}]},"hourly":{"summary":"Leicht bewölkt am heute Abend.","icon":"partly-cloudy-day","data":[{"time":1548432000,"summary":"Heiter","icon":"clear-day","precipIntensity":0.0787,"precipProbability":0.15,"precipType":"rain","temperature":4.96,"apparentTemperature":2.78,"dewPoint":-2.85,"humidity":0.57,"pressure":1026.69,"windSpeed":2.58,"windGust":5.86,"windBearing":345,"cloudCover":0,"uvIndex":3,"visibility":8.69,"ozone":289.25},{"time":1548435600,"summary":"Heiter","icon":"clear-day","precipIntensity":0.0178,"precipProbability":0.12,"precipType":"rain","temperature":6.53,"apparentTemperature":4.76,"dewPoint":-2.35,"humidity":0.53,"pressure":1025.74,"windSpeed":2.45,"windGust":5.1,"windBearing":334,"cloudCover":0.04,"uvIndex":4,"visibility":11.81,"ozone":288.75},{"time":1548439200,"summary":"Heiter","icon":"clear-day","precipIntensity":0.066,"precipProbability":0.09,"precipType":"rain","temperature":7.95,"apparentTemperature":6.23,"dewPoint":-2.02,"humidity":0.49,"pressure":1025.57,"windSpeed":2.74,"windGust":5.12,"windBearing":322,"cloudCover":0.09,"uvIndex":4,"visibility":16.09,"ozone":288.35},{"time":1548442800,"summary":"Heiter","icon":"clear-day","precipIntensity":0.0559,"precipProbability":0.04,"precipType":"rain","temperature":9.06,"apparentTemperature":7.26,"dewPoint":-1.94,"humidity":0.46,"pressure":1025.16,"windSpeed":3.21,"windGust":5.93,"windBearing":317,"cloudCover":0.13,"uvIndex":3,"visibility":16.09,"ozone":287.64},{"time":1548446400,"summary":"Heiter","icon":"clear-day","precipIntensity":0.0381,"precipProbability":0.02,"precipType":"rain","temperature":9.79,"apparentTemperature":7.93,"dewPoint":-2.14,"humidity":0.43,"pressure":1024.88,"windSpeed":3.61,"windGust":6.8,"windBearing":315,"cloudCover":0.17,"uvIndex":2,"visibility":16.09,"ozone":287.03},{"time":1548450000,"summary":"Heiter","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":9.88,"apparentTemperature":8.05,"dewPoint":-2.46,"humidity":0.42,"pressure":1024.54,"windSpeed":3.6,"windGust":6.75,"windBearing":313,"cloudCover":0.21,"uvIndex":1,"visibility":16.09,"ozone":287.33},{"time":1548453600,"summary":"Leicht bewölkt","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":8.91,"apparentTemperature":7.16,"dewPoint":-2.68,"humidity":0.44,"pressure":1024.48,"windSpeed":3.09,"windGust":5.78,"windBearing":311,"cloudCover":0.26,"uvIndex":0,"visibility":16.09,"ozone":288.81},{"time":1548457200,"summary":"Leicht bewölkt","icon":"partly-cloudy-day","precipIntensity":0.0483,"precipProbability":0.01,"precipType":"rain","temperature":6.83,"apparentTemperature":5.28,"dewPoint":-2.53,"humidity":0.51,"pressure":1025.06,"windSpeed":2.24,"windGust":4.52,"windBearing":305,"cloudCover":0.4,"uvIndex":0,"visibility":16.09,"ozone":291.18},{"time":1548460800,"summary":"Leicht bewölkt","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":4.79,"apparentTemperature":3.34,"dewPoint":-2.59,"humidity":0.59,"pressure":1025.82,"windSpeed":1.8,"windGust":3.29,"windBearing":304,"cloudCover":0.33,"uvIndex":0,"visibility":16.09,"ozone":294.74},{"time":1548464400,"summary":"Heiter","icon":"clear-night","precipIntensity":0.0356,"precipProbability":0.01,"precipType":"rain","temperature":3.11,"apparentTemperature":1.76,"dewPoint":-2.73,"humidity":0.65,"pressure":1026.38,"windSpeed":1.52,"windGust":2.79,"windBearing":312,"cloudCover":0.22,"uvIndex":0,"visibility":16.09,"ozone":300.29},{"time":1548468000,"summary":"Heiter","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":2.02,"apparentTemperature":2.02,"dewPoint":-2.89,"humidity":0.7,"pressure":1026.73,"windSpeed":1.31,"windGust":2.28,"windBearing":292,"cloudCover":0.1,"uvIndex":0,"visibility":16.09,"ozone":307.06},{"time":1548471600,"summary":"Heiter","icon":"clear-night","precipIntensity":0.0305,"precipProbability":0.01,"precipAccumulation":0.023,"precipType":"snow","temperature":1.17,"apparentTemperature":1.17,"dewPoint":-3.05,"humidity":0.73,"pressure":1027.04,"windSpeed":1.15,"windGust":1.75,"windBearing":294,"cloudCover":0,"uvIndex":0,"visibility":16.09,"ozone":312.68},{"time":1548475200,"summary":"Heiter","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":0.51,"apparentTemperature":0.51,"dewPoint":-3.32,"humidity":0.76,"pressure":1027.25,"windSpeed":1.03,"windGust":1.58,"windBearing":298,"cloudCover":0,"uvIndex":0,"visibility":16.09,"ozone":316.42},{"time":1548478800,"summary":"Heiter","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":0.16,"apparentTemperature":0.16,"dewPoint":-3.5,"humidity":0.76,"pressure":1027.3,"windSpeed":1.05,"windGust":1.75,"windBearing":302,"cloudCover":0,"uvIndex":0,"visibility":16.09,"ozone":319.12},{"time":1548482400,"summary":"Heiter","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":-0.03,"apparentTemperature":-0.03,"dewPoint":-3.67,"humidity":0.76,"pressure":1027.24,"windSpeed":0.96,"windGust":1.63,"windBearing":289,"cloudCover":0,"uvIndex":0,"visibility":16.09,"ozone":320.96},{"time":1548486000,"summary":"Heiter","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":-0.68,"apparentTemperature":-0.68,"dewPoint":-4.94,"humidity":0.73,"pressure":1027.37,"windSpeed":0.72,"windGust":1.18,"windBearing":311,"cloudCover":0,"uvIndex":0,"visibility":16.09,"ozone":321.87},{"time":1548489600,"summary":"Heiter","icon":"clear-night","precipIntensity":0.0051,"precipProbability":0.01,"precipAccumulation":0,"precipType":"snow","temperature":-0.78,"apparentTemperature":-0.78,"dewPoint":-4.94,"humidity":0.73,"pressure":1027.47,"windSpeed":0.68,"windGust":1.13,"windBearing":271,"cloudCover":0,"uvIndex":0,"visibility":16.09,"ozone":322},{"time":1548493200,"summary":"Heiter","icon":"clear-night","precipIntensity":0.0076,"precipProbability":0.01,"precipAccumulation":0,"precipType":"snow","temperature":-0.89,"apparentTemperature":-0.89,"dewPoint":-4.91,"humidity":0.74,"pressure":1027.47,"windSpeed":0.83,"windGust":1.18,"windBearing":273,"cloudCover":0,"uvIndex":0,"visibility":16.09,"ozone":321.94},{"time":1548496800,"summary":"Heiter","icon":"clear-night","precipIntensity":0.0076,"precipProbability":0.01,"precipAccumulation":0,"precipType":"snow","temperature":-1.15,"apparentTemperature":-1.15,"dewPoint":-4.83,"humidity":0.76,"pressure":1027.35,"windSpeed":0.8,"windGust":1.3,"windBearing":258,"cloudCover":0,"uvIndex":0,"visibility":16.09,"ozone":321.81},{"time":1548500400,"summary":"Heiter","icon":"clear-night","precipIntensity":0.0076,"precipProbability":0.01,"precipAccumulation":0,"precipType":"snow","temperature":-1.31,"apparentTemperature":-1.31,"dewPoint":-4.74,"humidity":0.77,"pressure":1027.16,"windSpeed":1.07,"windGust":1.52,"windBearing":330,"cloudCover":0,"uvIndex":0,"visibility":16.09,"ozone":321.46},{"time":1548504000,"summary":"Heiter","icon":"clear-night","precipIntensity":0.0076,"precipProbability":0.02,"precipAccumulation":0,"precipType":"snow","temperature":-1,"apparentTemperature":-2.82,"dewPoint":-4.67,"humidity":0.76,"pressure":1027.04,"windSpeed":1.45,"windGust":2.11,"windBearing":302,"cloudCover":0,"uvIndex":0,"visibility":16.09,"ozone":321.01},{"time":1548507600,"summary":"Heiter","icon":"clear-day","precipIntensity":0.0051,"precipProbability":0.02,"precipAccumulation":0,"precipType":"snow","temperature":0.38,"apparentTemperature":-1.53,"dewPoint":-4.65,"humidity":0.69,"pressure":1027.18,"windSpeed":1.64,"windGust":3.55,"windBearing":300,"cloudCover":0,"uvIndex":0,"visibility":16.09,"ozone":320.35},{"time":1548511200,"summary":"Heiter","icon":"clear-day","precipIntensity":0.0051,"precipProbability":0.01,"precipType":"rain","temperature":2.83,"apparentTemperature":1.01,"dewPoint":-4.62,"humidity":0.58,"pressure":1027.4,"windSpeed":1.86,"windGust":5.37,"windBearing":309,"cloudCover":0.01,"uvIndex":0,"visibility":16.09,"ozone":319.59},{"time":1548514800,"summary":"Heiter","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":4.65,"apparentTemperature":2.91,"dewPoint":-4.53,"humidity":0.51,"pressure":1027.36,"windSpeed":2.05,"windGust":6.44,"windBearing":314,"cloudCover":0.02,"uvIndex":1,"visibility":16.09,"ozone":319.1},{"time":1548518400,"summary":"Heiter","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":6.47,"apparentTemperature":4.92,"dewPoint":-4.35,"humidity":0.46,"pressure":1026.96,"windSpeed":2.17,"windGust":6.07,"windBearing":308,"cloudCover":0.05,"uvIndex":2,"visibility":16.09,"ozone":318.99},{"time":1548522000,"summary":"Heiter","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":8.13,"apparentTemperature":6.79,"dewPoint":-4.12,"humidity":0.42,"pressure":1026.31,"windSpeed":2.26,"windGust":5.02,"windBearing":296,"cloudCover":0.09,"uvIndex":3,"visibility":16.09,"ozone":319.07},{"time":1548525600,"summary":"Heiter","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":9.65,"apparentTemperature":8.51,"dewPoint":-3.64,"humidity":0.39,"pressure":1025.58,"windSpeed":2.35,"windGust":4.3,"windBearing":286,"cloudCover":0.13,"uvIndex":4,"visibility":16.09,"ozone":319.26},{"time":1548529200,"summary":"Heiter","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":10.76,"apparentTemperature":10.76,"dewPoint":-2.77,"humidity":0.39,"pressure":1024.77,"windSpeed":2.48,"windGust":4.36,"windBearing":278,"cloudCover":0.18,"uvIndex":3,"visibility":16.09,"ozone":319.48},{"time":1548532800,"summary":"Heiter","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":11.41,"apparentTemperature":11.41,"dewPoint":-1.71,"humidity":0.4,"pressure":1023.89,"windSpeed":2.62,"windGust":4.66,"windBearing":276,"cloudCover":0.24,"uvIndex":2,"visibility":16.09,"ozone":319.72},{"time":1548536400,"summary":"Leicht bewölkt","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":11.46,"apparentTemperature":11.46,"dewPoint":-0.91,"humidity":0.42,"pressure":1023.34,"windSpeed":2.6,"windGust":4.59,"windBearing":277,"cloudCover":0.27,"uvIndex":1,"visibility":16.09,"ozone":319.99},{"time":1548540000,"summary":"Leicht bewölkt","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":10.13,"apparentTemperature":10.13,"dewPoint":-0.59,"humidity":0.47,"pressure":1023.32,"windSpeed":2.32,"windGust":3.73,"windBearing":294,"cloudCover":0.25,"uvIndex":0,"visibility":16.09,"ozone":320.36},{"time":1548543600,"summary":"Heiter","icon":"clear-day","precipIntensity":0.0051,"precipProbability":0.01,"precipType":"rain","temperature":7.79,"apparentTemperature":6.73,"dewPoint":-0.54,"humidity":0.56,"pressure":1023.65,"windSpeed":1.88,"windGust":2.51,"windBearing":257,"cloudCover":0.19,"uvIndex":0,"visibility":16.09,"ozone":320.71},{"time":1548547200,"summary":"Heiter","icon":"clear-night","precipIntensity":0.0076,"precipProbability":0.01,"precipType":"rain","temperature":5.43,"apparentTemperature":4.41,"dewPoint":-0.59,"humidity":0.65,"pressure":1023.99,"windSpeed":1.52,"windGust":1.55,"windBearing":271,"cloudCover":0.14,"uvIndex":0,"visibility":16.09,"ozone":320.82},{"time":1548550800,"summary":"Heiter","icon":"clear-night","precipIntensity":0.0051,"precipProbability":0.01,"precipType":"rain","temperature":3.88,"apparentTemperature":3.88,"dewPoint":-0.68,"humidity":0.72,"pressure":1024.32,"windSpeed":1.29,"windGust":1.29,"windBearing":296,"cloudCover":0.09,"uvIndex":0,"visibility":16.09,"ozone":320.54},{"time":1548554400,"summary":"Heiter","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":2.93,"apparentTemperature":2.93,"dewPoint":-0.84,"humidity":0.76,"pressure":1024.7,"windSpeed":1.12,"windGust":1.12,"windBearing":243,"cloudCover":0.04,"uvIndex":0,"visibility":16.09,"ozone":320.05},{"time":1548558000,"summary":"Heiter","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":2.27,"apparentTemperature":2.27,"dewPoint":-1.04,"humidity":0.79,"pressure":1024.91,"windSpeed":0.99,"windGust":0.99,"windBearing":271,"cloudCover":0.02,"uvIndex":0,"visibility":16.09,"ozone":319.33},{"time":1548561600,"summary":"Heiter","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":1.74,"apparentTemperature":1.74,"dewPoint":-1.27,"humidity":0.8,"pressure":1024.93,"windSpeed":0.89,"windGust":1.03,"windBearing":299,"cloudCover":0.09,"uvIndex":0,"visibility":16.09,"ozone":318.61},{"time":1548565200,"summary":"Heiter","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":1.37,"apparentTemperature":1.37,"dewPoint":-1.49,"humidity":0.81,"pressure":1024.83,"windSpeed":0.85,"windGust":1.19,"windBearing":230,"cloudCover":0.21,"uvIndex":0,"visibility":16.09,"ozone":317.8},{"time":1548568800,"summary":"Leicht bewölkt","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":1.11,"apparentTemperature":1.11,"dewPoint":-1.63,"humidity":0.82,"pressure":1024.59,"windSpeed":0.89,"windGust":1.28,"windBearing":250,"cloudCover":0.3,"uvIndex":0,"visibility":16.09,"ozone":316.17},{"time":1548572400,"summary":"Leicht bewölkt","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":0.98,"apparentTemperature":0.98,"dewPoint":-1.57,"humidity":0.83,"pressure":1024.09,"windSpeed":0.93,"windGust":1.24,"windBearing":255,"cloudCover":0.34,"uvIndex":0,"visibility":16.09,"ozone":312.96},{"time":1548576000,"summary":"Leicht bewölkt","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":0.82,"apparentTemperature":0.82,"dewPoint":-1.42,"humidity":0.85,"pressure":1023.45,"windSpeed":0.99,"windGust":1.13,"windBearing":228,"cloudCover":0.36,"uvIndex":0,"visibility":16.09,"ozone":308.98},{"time":1548579600,"summary":"Leicht bewölkt","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":0.76,"apparentTemperature":0.76,"dewPoint":-1.29,"humidity":0.86,"pressure":1022.98,"windSpeed":1.05,"windGust":1.06,"windBearing":231,"cloudCover":0.4,"uvIndex":0,"visibility":16.09,"ozone":305.84},{"time":1548583200,"summary":"Leicht bewölkt","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":0.67,"apparentTemperature":0.67,"dewPoint":-1.25,"humidity":0.87,"pressure":1022.82,"windSpeed":0.95,"windGust":0.99,"windBearing":226,"cloudCover":0.51,"uvIndex":0,"visibility":16.09,"ozone":304.25},{"time":1548586800,"summary":"Überwiegend bewölkt","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":0.76,"apparentTemperature":0.76,"dewPoint":-1.22,"humidity":0.87,"pressure":1022.86,"windSpeed":0.88,"windGust":0.91,"windBearing":245,"cloudCover":0.67,"uvIndex":0,"visibility":16.09,"ozone":303.38},{"time":1548590400,"summary":"Überwiegend bewölkt","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":1.08,"apparentTemperature":1.08,"dewPoint":-0.99,"humidity":0.86,"pressure":1022.89,"windSpeed":0.87,"windGust":1.02,"windBearing":246,"cloudCover":0.8,"uvIndex":0,"visibility":16.09,"ozone":303.08},{"time":1548594000,"summary":"Überwiegend bewölkt","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":2.2,"apparentTemperature":2.2,"dewPoint":-0.34,"humidity":0.83,"pressure":1023,"windSpeed":0.98,"windGust":1.65,"windBearing":251,"cloudCover":0.87,"uvIndex":0,"visibility":16.09,"ozone":303.07},{"time":1548597600,"summary":"Überwiegend bewölkt","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":4.02,"apparentTemperature":4.02,"dewPoint":0.58,"humidity":0.78,"pressure":1023.07,"windSpeed":1.23,"windGust":2.54,"windBearing":240,"cloudCover":0.92,"uvIndex":0,"visibility":16.09,"ozone":303.51},{"time":1548601200,"summary":"Stark bewölkt","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":5.77,"apparentTemperature":4.7,"dewPoint":1.47,"humidity":0.74,"pressure":1022.92,"windSpeed":1.6,"windGust":3.4,"windBearing":236,"cloudCover":0.97,"uvIndex":1,"visibility":16.09,"ozone":304.76},{"time":1548604800,"summary":"Überwiegend bewölkt","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":7.53,"apparentTemperature":6.27,"dewPoint":2.07,"humidity":0.68,"pressure":1022.39,"windSpeed":2.05,"windGust":4.26,"windBearing":228,"cloudCover":0.89,"uvIndex":2,"visibility":16.09,"ozone":306.42}]},"daily":{"summary":"Regen am Dienstag und nächsten Freitag mit einem Temperaturmaximum von 14°C am Montag.","icon":"rain","data":[{"time":1548392400,"summary":"Leicht bewölkt am Abend.","icon":"partly-cloudy-day","sunriseTime":1548420057,"sunsetTime":1548457581,"moonPhase":0.67,"precipIntensity":0.0152,"precipIntensityMax":0.0787,"precipIntensityMaxTime":1548432000,"precipProbability":0.05,"precipType":"rain","temperatureHigh":9.88,"temperatureHighTime":1548450000,"temperatureLow":-1.31,"temperatureLowTime":1548500400,"apparentTemperatureHigh":8.05,"apparentTemperatureHighTime":1548450000,"apparentTemperatureLow":-2.82,"apparentTemperatureLowTime":1548504000,"dewPoint":-2.45,"humidity":0.7,"pressure":1024.87,"windSpeed":1.58,"windGust":6.8,"windGustTime":1548446400,"windBearing":316,"cloudCover":0.08,"uvIndex":4,"uvIndexTime":1548435600,"visibility":15.39,"ozone":293.28,"temperatureMin":-1.47,"temperatureMinTime":1548421200,"temperatureMax":9.88,"temperatureMaxTime":1548450000,"apparentTemperatureMin":-1.47,"apparentTemperatureMinTime":1548421200,"apparentTemperatureMax":8.05,"apparentTemperatureMaxTime":1548450000},{"time":1548478800,"summary":"Leicht bewölkt in der Nacht.","icon":"partly-cloudy-night","sunriseTime":1548506426,"sunsetTime":1548544039,"moonPhase":0.7,"precipIntensity":0.0051,"precipIntensityMax":0.0076,"precipIntensityMaxTime":1548493200,"precipProbability":0.05,"precipType":"rain","temperatureHigh":11.46,"temperatureHighTime":1548536400,"temperatureLow":0.67,"temperatureLowTime":1548583200,"apparentTemperatureHigh":11.46,"apparentTemperatureHighTime":1548536400,"apparentTemperatureLow":0.67,"apparentTemperatureLowTime":1548583200,"dewPoint":-3.04,"humidity":0.63,"pressure":1025.87,"windSpeed":1.48,"windGust":6.44,"windGustTime":1548514800,"windBearing":289,"cloudCover":0.08,"uvIndex":4,"uvIndexTime":1548525600,"visibility":16.09,"ozone":320.26,"temperatureMin":-1.31,"temperatureMinTime":1548500400,"temperatureMax":11.46,"temperatureMaxTime":1548536400,"apparentTemperatureMin":-2.82,"apparentTemperatureMinTime":1548504000,"apparentTemperatureMax":11.46,"apparentTemperatureMaxTime":1548536400},{"time":1548565200,"summary":"Überwiegend bewölkt bis abends.","icon":"partly-cloudy-day","sunriseTime":1548592794,"sunsetTime":1548630498,"moonPhase":0.74,"precipIntensity":0.0025,"precipIntensityMax":0.0076,"precipIntensityMaxTime":1548633600,"precipProbability":0.06,"precipType":"rain","temperatureHigh":12.18,"temperatureHighTime":1548622800,"temperatureLow":0.93,"temperatureLowTime":1548676800,"apparentTemperatureHigh":12.18,"apparentTemperatureHighTime":1548622800,"apparentTemperatureLow":0.93,"apparentTemperatureLowTime":1548676800,"dewPoint":0.71,"humidity":0.73,"pressure":1021.19,"windSpeed":1.71,"windGust":5.7,"windGustTime":1548615600,"windBearing":255,"cloudCover":0.54,"uvIndex":3,"uvIndexTime":1548608400,"visibility":16.09,"ozone":319.26,"temperatureMin":0.67,"temperatureMinTime":1548583200,"temperatureMax":12.18,"temperatureMaxTime":1548622800,"apparentTemperatureMin":0.67,"apparentTemperatureMinTime":1548583200,"apparentTemperatureMax":12.18,"apparentTemperatureMaxTime":1548622800},{"time":1548651600,"summary":"Überwiegend bewölkt in der Nacht.","icon":"partly-cloudy-night","sunriseTime":1548679161,"sunsetTime":1548716956,"moonPhase":0.77,"precipIntensity":0,"precipIntensityMax":0.0051,"precipIntensityMaxTime":1548655200,"precipProbability":0,"temperatureHigh":13.75,"temperatureHighTime":1548709200,"temperatureLow":9.09,"temperatureLowTime":1548723600,"apparentTemperatureHigh":13.75,"apparentTemperatureHighTime":1548709200,"apparentTemperatureLow":6.81,"apparentTemperatureLowTime":1548766800,"dewPoint":1.67,"humidity":0.7,"pressure":1017.56,"windSpeed":1.9,"windGust":13.79,"windGustTime":1548734400,"windBearing":196,"cloudCover":0.08,"uvIndex":4,"uvIndexTime":1548698400,"visibility":16.09,"ozone":323.74,"temperatureMin":0.93,"temperatureMinTime":1548676800,"temperatureMax":13.75,"temperatureMaxTime":1548709200,"apparentTemperatureMin":0.93,"apparentTemperatureMinTime":1548676800,"apparentTemperatureMax":13.75,"apparentTemperatureMaxTime":1548709200},{"time":1548738000,"summary":"Wechselnder Niederschlag bis Nachmittag.","icon":"rain","sunriseTime":1548765525,"sunsetTime":1548803414,"moonPhase":0.81,"precipIntensity":0.442,"precipIntensityMax":2.4257,"precipIntensityMaxTime":1548777600,"precipProbability":0.83,"precipType":"rain","temperatureHigh":10,"temperatureHighTime":1548763200,"temperatureLow":-6.21,"temperatureLowTime":1548846000,"apparentTemperatureHigh":10,"apparentTemperatureHighTime":1548763200,"apparentTemperatureLow":-9.86,"apparentTemperatureLowTime":1548824400,"dewPoint":0.27,"humidity":0.75,"pressure":1014.88,"windSpeed":2.12,"windGust":15.35,"windGustTime":1548759600,"windBearing":290,"cloudCover":0.74,"uvIndex":3,"uvIndexTime":1548781200,"visibility":16.09,"ozone":310.77,"temperatureMin":-4.37,"temperatureMinTime":1548820800,"temperatureMax":10.35,"temperatureMaxTime":1548759600,"apparentTemperatureMin":-9.69,"apparentTemperatureMinTime":1548820800,"apparentTemperatureMax":10.35,"apparentTemperatureMaxTime":1548759600},{"time":1548824400,"summary":"Den ganzen Tag lang heiter.","icon":"clear-day","sunriseTime":1548851889,"sunsetTime":1548889872,"moonPhase":0.84,"precipIntensity":0,"precipIntensityMax":0,"precipProbability":0,"temperatureHigh":8.24,"temperatureHighTime":1548878400,"temperatureLow":-7.79,"temperatureLowTime":1548932400,"apparentTemperatureHigh":5.53,"apparentTemperatureHighTime":1548878400,"apparentTemperatureLow":-12.46,"apparentTemperatureLowTime":1548932400,"dewPoint":-8.76,"humidity":0.54,"pressure":1025.13,"windSpeed":2.37,"windGust":11.52,"windGustTime":1548874800,"windBearing":273,"cloudCover":0.04,"uvIndex":4,"uvIndexTime":1548867600,"visibility":16.09,"ozone":300.64,"temperatureMin":-6.21,"temperatureMinTime":1548846000,"temperatureMax":8.24,"temperatureMaxTime":1548878400,"apparentTemperatureMin":-9.86,"apparentTemperatureMinTime":1548824400,"apparentTemperatureMax":5.53,"apparentTemperatureMaxTime":1548878400},{"time":1548910800,"summary":"Abends überwiegend bewölkt.","icon":"partly-cloudy-night","sunriseTime":1548938250,"sunsetTime":1548976330,"moonPhase":0.87,"precipIntensity":0.0025,"precipIntensityMax":0.0203,"precipIntensityMaxTime":1548993600,"precipProbability":0.01,"precipType":"rain","temperatureHigh":7.64,"temperatureHighTime":1548964800,"temperatureLow":0.61,"temperatureLowTime":1548993600,"apparentTemperatureHigh":6.61,"apparentTemperatureHighTime":1548964800,"apparentTemperatureLow":-2.26,"apparentTemperatureLowTime":1548993600,"dewPoint":-13.21,"humidity":0.41,"pressure":1030.75,"windSpeed":1.49,"windGust":9.31,"windGustTime":1548910800,"windBearing":62,"cloudCover":0.07,"uvIndex":4,"uvIndexTime":1548954000,"visibility":16.09,"ozone":310.38,"temperatureMin":-7.79,"temperatureMinTime":1548932400,"temperatureMax":7.64,"temperatureMaxTime":1548964800,"apparentTemperatureMin":-12.46,"apparentTemperatureMinTime":1548932400,"apparentTemperatureMax":6.61,"apparentTemperatureMaxTime":1548964800},{"time":1548997200,"summary":"Regen am Vormittag.","icon":"rain","sunriseTime":1549024611,"sunsetTime":1549062789,"moonPhase":0.91,"precipIntensity":0.4013,"precipIntensityMax":1.778,"precipIntensityMaxTime":1549011600,"precipProbability":0.35,"precipType":"rain","temperatureHigh":11.85,"temperatureHighTime":1549047600,"temperatureLow":-0.9,"temperatureLowTime":1549105200,"apparentTemperatureHigh":11.85,"apparentTemperatureHighTime":1549047600,"apparentTemperatureLow":-4.23,"apparentTemperatureLowTime":1549105200,"dewPoint":-2.64,"humidity":0.61,"pressure":1024.6,"windSpeed":2.15,"windGust":9.33,"windGustTime":1549008000,"windBearing":101,"cloudCover":0.86,"uvIndex":3,"uvIndexTime":1549044000,"visibility":16.09,"ozone":334.27,"temperatureMin":0.83,"temperatureMinTime":1549080000,"temperatureMax":11.85,"temperatureMaxTime":1549047600,"apparentTemperatureMin":-2.51,"apparentTemperatureMinTime":1549080000,"apparentTemperatureMax":11.85,"apparentTemperatureMaxTime":1549047600}]},"flags":{"sources":["nearest-precip","nwspa","cmc","gfs","hrrr","icon","isd","madis","nam","sref","darksky"],"nearest-station":8.414,"units":"si"},"offset":-5};
        if (string.equals("")) {
           return;
        }

        int currently = string.lastIndexOf("currently");
        int currently_end = string.indexOf("}", currently);

        //get summary
        //error
        int current_sum_s = string.indexOf("summary");
        int current_sum_end = string.indexOf(",", current_sum_s);
        String current_sum = string.substring(current_sum_s + 10, current_sum_end - 1);


        //get icon

        int icon_s = string.indexOf("icon");
        int icon_end = string.indexOf(",", icon_s);
        String icon = string.substring(icon_s + 7, icon_end - 1);


        //get temp

        int temp_s = string.indexOf("temperature");
        int temp_end = string.indexOf(",", temp_s);
        String temp = string.substring(temp_s + 13, temp_end);
        Double te = ceil(Double.parseDouble(temp));
        temp = te.toString();




        //daily data
        String current = string.substring(currently, currently_end);
        int daily_start = string.lastIndexOf("daily");
        int daily_end  = string.indexOf("}", daily_start);

        String daily = string.substring(daily_start, daily_end);
        int temp_H_start = daily.indexOf("temperatureHigh");
        int temp_H_end = daily.indexOf(",", temp_H_start);
        String temp_H = daily.substring(temp_H_start + 17, temp_H_end);
        Double h = ceil(Double.parseDouble(temp_H));
        temp_H = h.toString();

        int temp_C_start = daily.indexOf("temperatureLow");
        int temp_C_end = daily.indexOf(",", temp_C_start);
        String temp_C = daily.substring(temp_C_start + 16, temp_C_end);
        //PUT ALL DATA INTO OBJECT/ARRAY
        Double c = ceil(Double.parseDouble(temp_C));
        temp_C = c.toString();

        Forecast.temp = temp;
        Forecast.icon = icon;
        Forecast.high = temp_H;
        Forecast.low = temp_C;
        Forecast.summary = current_sum;
    }
    /*
    public static void main(String... args) {
        getWeather();
    }
*/
}
